# 1 简介

## 1.1 目的

该软件需求规格说明书（以下简称“说明书”）属于“学习生活平台”项目。本说明书旨在明确并形式化项目需求，定义学习生活平台的功能和行为，以便能够与客户进行需求的确认，并指导之后的软件设计、编码实现、测试和部署等过程。

此文档的预期受众包括客户，开发人员、测试人员和其他相关利益相关者。

## 1.2 范围

### 1.2.1 软件名称

学习生活平台（Learning and Living Platform）

### 1.2.2 软件描述

学习生活平台，是一个在线资源管理及交流系统，旨在帮助学生和老师更好地分享学习资源，交流学习心得。本软件大致提供以下功能：

* 访客：注册账户，浏览教育资源等。
* 用户：查看、评论、点赞帖子，上传、下载教育资源等。
* 管理员：创建、删除、修改用户，管理帖子及其评论，管理教育资源等功能。

### 1.2.3 应用场景

该软件主要用于大学校园，帮助解决同学们：学业上的难题求教无门，优秀的资源无人共享，志同道合的朋友难以相遇，校园的资讯无法及时得知等问题；提供一个大学生线上分享课程材料、教科书、视频课程和习题集等资源，交流并分享学习经验的平台。

## 1.3 名词解释、首字母缩略词和缩写词

* 访客（guest）：指在系统中没有自己的账号的访问者，或是有自己账号但是还未登录的使用者。
* 用户（user）：指在系统中拥有自己的账号，并且已经登录系统的使用者。在事件流的括号中，用户泛指系统的使用者。
* 管理员（administrator）：指系统的管理员，可以对用户、帖子及评论和教育资源进行管理。

## 1.4 概述

本文档主要包括简介，产品整体描述和需求说明三部分。其中简介部分对本文档进行了大致说明；产品整体描述部分对学习生活平台的功能、用户特征和约束等进行了简要介绍；需求说明部分详细描述了用户的功能需求，以及包括对外接口需求、性能需求等非功能需求。

# 2 产品整体描述

## 2.1 产品描述

这部分应该将产品与其他相关的产品放在一起说明。 如果产品是完全独立的，则应在此处说明。 

这部分的主要作用是，如果文档定义的产品是一个更大系统的组件，那么本小节应该将那个更大系统的要求与软件的功能联系起来，并且应该确定该系统和软件之间的接口。

## 2.2 产品功能

给出软件将执行主要功能的概要。

## 2.3 用户特征

给出软件产品预期用户的一般特征，包括教育程度、经验、专业技术情况，给出第三章中为何规定某些需求的原因。

## 2.4 约束

给出将会限制开发人员选择的其他事项的一般描述，包括

- a) 监管政策；

- b) 硬件限制（例如，信号时序要求）；

- c) 与其他应用程序的接口；

- d）并行操作；

- e) 审核职能；

- f）控制功能；

- g) 高级语言要求；

- h) 信号握手协议（例如，XON-XOFF、ACK-NACK）；

- i) 可靠性需求；

- j) 应用的关键性；

- k) 安全和安保方面的考虑。


## 2.5 假设和依赖

列出影响规定需求的每个因素，这些因素不是软件设计的限制条件，但是它们的变更可能影响需求。

## 2.6 需求分配

根据软件版本分配需求（某某需求将在未来版本上线）。

# 3 需求说明

## 3.1 功能需求

### 3.1.1 用户需求

这里留着写用户故事吧!

### 3.1.2 用例描述

#### 3.1.2.1 **用例图**

![use_case_design_v1.0.2](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/use_case_design_v1.0.2.png)

#### 3.1.2.2 参与者

**A1 - 访客**

| **参与者名称**   | 访客                            |
| ---------------- | ------------------------------- |
| **参与者ID**     | A1                              |
| **描述:**        | 未注册或未登陆的用户            |
| **功能需求**     | **涉及用例**                    |
| 访客注册         | GuestRegister                   |
| 访客登录         | GuestLogin                      |
| 浏览教育资源     | ViewEducationalResourcesList    |
| 查看教育资源详情 | ViewEducationalResourcesDetails |

**A2 - 用户**

| **参与者名称**   | 用户                            |
| ---------------- | ------------------------------- |
| **参与者ID**     | A2                              |
| **描述**         | 已注册并登录的用户              |
| **功能需求**     | **涉及用例**                    |
| 用户登录         | Login                           |
| 用户找回密码     | FindPassword                    |
| 修改密码         | ChangePassword                  |
| 查看个人信息     | ViewOwnInformation              |
| 修改个人信息     | ChangeOwnInformation            |
| 注销登录         | LogOut                          |
| 浏览教育资源     | ViewEducationalResourcesList    |
| 查看教育资源详情 | ViewEducationalResourcesDetails |
| 下载教育资源     | DownloadEducationalResources    |
| 查看下载历史     | ViewDownloadHistory             |
| 发布教育资源     | PublishEducationalResources     |
| 删除教育资源     | DeleteEducationalResources      |
| 浏览帖子         | ViewPostList                    |
| 发布帖子         | PublishPost                     |
| 查看帖子         | ViewPostDetails                 |
| 评论帖子         | CommentPost                     |
| 点赞帖子         | LikePost                        |
| 删除帖子         | DeletePost                      |
| 删除评论         | DeleteComments                  |
| 注销账号         | DeleteOwnAccount                |
| 用户获得积分     |                                 |
| 用户升级         |                                 |
| 用户设置帖子权限 |                                 |



**A3 - 管理员**

| **参与者名称**   | 管理员                          |
| ---------------- | ------------------------------- |
| **参与者ID**     | A3                              |
| **描述**         | 管理该系统的后台人员            |
| **功能需求**     | **涉及用例**                    |
| 管理员登录       | AdministratorLogin              |
| 浏览教育资源     | ViewEducationalResourcesList    |
| 查看教育资源详情 | ViewEducationalResourcesDetails |
| 下载教育资源     | DownloadEducationalResources    |
| 发布教育资源     | PublishEducationalResources     |
| 修改教育资源     | ChangeEducationalResources      |
| 删除教育资源     | DeleteEducationalResources      |
| 注销登录         | LogOut                          |
| 浏览帖子         | ViewPostList                    |
| 查看帖子         | ViewPostDetails                 |
| 删除帖子         | DeletePost                      |
| 删除评论         | DeleteComments                  |
| 修改用户信息     | ChangeUserInformation           |
| 查看统计数据     | ViewStatistics                  |
| 查看用户列表     | ViewUserList                    |

#### 3.1.2.3 相关用例

用例编号组织方式：3位十进制数，最高位为1表示仅供管理员使用，中间位表示类别，最低为表示序号。

##### UC001 访客注册

| 用例名称       | 访客注册                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC001                                                        |
| **参与者**     | 访客                                                         |
| **用例描述**   | 访客注册自己的账号                                           |
| **触发器**     | 访客点击注册按键                                             |
| **前置条件**   | 系统正处于登录界面，当前无用户登录                           |
| **后置条件**   | 系统中创建了新的账户信息，该访客拥有了自己的账户             |
| **基本事件流** | （用户） 1、访客点击注册按钮。<br/>（系统） 2、系统展示注册界面。<br/>（用户） 3、访客填写个人信息。<br/>（系统） 4、系统验证访客所填写的个人信息是否符合格式，例如邮箱地址是否合法，两次密码输入是否一致，如果不合法，则在相应的输入框旁边显示。<br/>	（循环3~4直到个人信息填写完毕）<br/>（用户） 5、访客点击注册按钮以提交注册。<br/>（系统） 6、系统验证访客提交的个人信息是否合法，成功则在系统内部建立新账户，提示访客注册成功，并跳转到登陆界面，自动填入新注册的邮箱。 |
| **扩展事件流** | （异常处理） 6a、访客提交的个人信息不合法，例如邮箱已拥有账户<br/>	（系统） 1、返回信息填写界面，提示访客修改信息。 |
| **补充约束**   | 1、访客输入的密码应该以星号等方式隐藏。                      |

**系统顺序图**:

![GuestRegister](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/GuestRegister.jpg)

**系统操作合约**:

**ClickLoginButton()**

- 操作签名：ClickLoginButton()

- 交叉引用：访客登录

- 前置条件：访客尝试登录

- 后置条件：

  - 切换至登陆界面


**InputInfo(email, password)**

- 操作签名：InputInfo(email, password)
- 交叉引用：访客登录
- 前置条件：处于登陆界面
- 后置条件：
  - 系统接收email, password的值

**CompleteLogin()**

- 操作签名：CompleteLogin()
- 交叉引用：访客登录
- 前置条件：完成信息输入, 信息输入符合规范, 数据库确认无误
- 后置条件：
  - 系统跳转登陆成功界面

##### UC002 访客登录


| 用例名称       | 访客登录                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC002                                                        |
| **参与者**     | 访客                                                         |
| **用例描述**   | 已经拥有账户的访客登陆系统                                   |
| **触发器**     | 访客点击登录按钮                                             |
| **前置条件**   | 访客拥有账户，系统中保存了相应的账户信息，系统当前处于未登录状态 |
| **后置条件**   | 系统进入了已登录状态，当前账户为访客登录的账户，访客登陆了账户成为用户 |
| **基本事件流** | （用户） 1、访客点击登录按钮。<br/>（系统） 2、系统展示用户登录界面。<br/>（用户） 3、访客填写邮箱和密码，并在填写完成后点击“登录”按钮提交。<br/>（系统） 4、系统检查访客输入的邮箱和密码，通过后提示访客登陆成功，并返回登陆前的页面。系统进入了已登录状态，当前账户为访客登录的账户，访客登陆了账户成为用户。系统在后台记录用户的登陆行为，相应增加登录天数，增加用户经验值。 |
| **扩展事件流** | （异常处理） 4a、访客提交的邮箱在系统中的用户账户中不存在<br/>	（系统） 1、提示访客输入的邮箱在系统中不存在，中止登录，等待访客修改输入。<br/>（异常处理） 4b、访客提交的密码与邮箱不匹配<br/>	（系统） 1、提示访客输入的密码不匹配，中止登录，等待访客修改输入。 |
| **补充约束**   | 1、访客输入的密码应该以星号等方式隐藏。                      |

**系统顺序图**

![GuestLogin](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/GuestLogin.png)

**系统操作合约**

**ClickRegisterButton()**

- 操作签名：ClickRegisterButton()

- 交叉引用：访客注册

- 前置条件：访客尝试注册

- 后置条件：

  - 切换至注册界面

**InputPersonalInfo(Info)**

- 操作签名：InputInfo(Info)
- 交叉引用：访客注册
- 前置条件：处于注册界面
- 后置条件：
  - 系统接收用户输入的Info值

**CompleteRegister()**

- 操作签名：CompleteRegister()
- 交叉引用：访客注册
- 前置条件：完成信息输入, 信息输入符合规范, 数据库确认无误
- 后置条件：
  - 系统创建User类的user实例
  - user实例对应属性赋值
  - 系统跳转注册成功界面

##### UC103 管理员登录


| 用例名称       | 管理员登录                                                   |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC103                                                        |
| **参与者**     | 管理员                                                       |
| **用例描述**   | 管理员登录管理员管理系统                                     |
| **触发器**     | 管理员打开管理系统网页                                       |
| **前置条件**   | 系统中存在相应管理员账户                                     |
| **后置条件**   | 管理系统已登录，当前登录的账户为相应管理员账户               |
| **基本事件流** | （用户） 1、管理员进入管理系统。<br/>（系统） 2、系统展示管理员登录界面。<br/>（用户） 3、管理员填写邮箱和密码，并在填写完成后点击“登录”按钮提交。<br/>（系统） 4、系统检查管理员输入的邮箱和密码，通过后提示管理员登陆成功，进入管理员管理系统。 |
| **扩展事件流** | （异常处理） 4a、管理员提交的邮箱在系统中不存在<br/>	（系统） 1、系统检测到管理员提交了不存在的邮箱。提示管理员输入的邮箱在系统中不存在，中止登录，等待管理员修改输入。<br/>（异常处理） 4a、管理员提交的邮箱在管理员账户表不存在，但在用户表中存在<br/>	（系统） 1、系统检测到管理员提交了属于用户的邮箱。提示当前界面为管理员登陆界面，并寻询问是否需要跳转至用户登录界面。<br/>	（用户） 2、确认跳转至用户登录界面。<br />	（系统） 3、系统跳转至用户登录界面，并将刚刚用户填入的邮箱自动填入。<br />（异常处理） 4b、管理员提交的密码与邮箱不匹配<br/>	（系统） 1、系统检测到管理员提交了合法的用户名，以及不匹配的密码，并点击登录。提示管理员输入的密码不匹配，中止登录，等待管理员修改输入。 |
| **补充约束**   | 1、管理员输入的密码应该以星号等方式隐藏。                    |

##### UC004 退出登录


| 用例名称       | 退出登录                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC004                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 退出已经登陆的状态                                           |
| **触发器**     | 用户或管理员点击“退出登录”                                   |
| **前置条件**   | 系统处于已登录状态                                           |
| **后置条件**   | 系统进入了未登录状态                                         |
| **基本事件流** | （用户） 1、用户或管理员点击“退出登录”按钮<br/>（系统） 2、系统弹出确认框，询问是否确认退出登录<br/>（用户） 3、点击“确定”以确认退出登录。<br/>（系统） 4、退出登录，进入未登录状态，需要登录的功能将不再可用，返回对应系统的首页。 |
| **扩展事件流** | （可选） 3a、用户取消退出登录<br/>	（用户） 1、用户点击“取消”或弹出确认框以外的其他位置。<br/>	（系统） 2、系统中止退出登录流程，关闭弹出的确认框，返回原页面。 |
| **补充约束**   | 无                                                           |

##### UC010 查看个人信息


| 用例名称       | 查看个人信息                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC010                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户进入个人信息页面查看个人信息                             |
| **触发器**     | 用户点击个人头像等按钮进入个人信息                           |
| **前置条件**   | 系统处于登陆状态                                             |
| **后置条件**   | 系统正处于个人信息界面                                       |
| **基本事件流** | （用户） 1、用户在其他界面点击头像等按钮。<br/>（系统） 2、系统切换到个人信息展示页面，向用户展示头像、昵称、邮箱、所属院系、下载量、等级和经验值等信息。 |
| **扩展事件流** | 无                                                           |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。                  |

##### UC011 修改个人信息

| 用例名称       | 修改个人信息                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC011                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户在个人信息界面修改个人信息                               |
| **触发器**     | 用户点击个人信息界面中的“编辑个人信息”按钮                   |
| **前置条件**   | 系统处于登陆状态，当前页面为个人信息页面                     |
| **后置条件**   | 系统中保存到用户信息依照用户的想法得到更新，仍处于个人信息页面 |
| **基本事件流** | （用户） 1、用户在个人信息界面点击“编辑个人信息”按钮<br/>（系统） 2、系统将个人简介等允许修改的个人信息的显示方式修改为文本框，使用户能够编辑其内容。<br/>（用户） 3、用户编辑文本框中的内容，并点击“保存”按钮提交修改。<br/>（系统） 4、弹出提示框告知用户修改成功，并依照用户输入更新相应账户数据，取消文本框的显示方式，正常展示修改完的信息。 |
| **扩展事件流** | （可选） 3a、用户可以取消修改个人信息<br/>	（用户） 1、用户点击“取消”按钮。<br/>	（系统） 2、系统取消文本框的显示方式，丢弃修改，正常展示修改前的信息，中止修改个人信息。<br />（异常处理） 3b、用户非法输入<br/>	（用户） 1、用户输入超长内容或输入非法字符。<br />	（系统） 2、系统检测到用户的非法输入，及时在输入框旁边对用户进行提示，并使“保存”按钮无效。<br />	（用户） 3、用户修改输入直至合法。<br/>	（系统） 4、系统关闭非法提示，使能“保存”按钮。 |
| **补充约束**   | 无                                                           |

**系统顺序图**

![ChangeOwnInfomation](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/ChangeOwnInfomation.png)

##### UC012 修改密码

| 用例名称       | 修改密码                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC012                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户在个人信息界面修改密码                                   |
| **触发器**     | 用户点击个人信息界面中的“修改密码”按钮                       |
| **前置条件**   | 系统处于登陆状态，当前页面为个人信息页面                     |
| **后置条件**   | 相应用户的密码得到修改，仍处于个人信息页面                   |
| **基本事件流** | （用户） 1、用户在个人信息界面点击“修改密码”按钮。<br/>（系统） 2、系统弹出输入框要求用户输入当前账户的密码以及新密码，新密码要求输入两遍，这两遍输入的密码应一致。<br/>（用户） 3、用户输入当前账户密码，输入新的密码，并再次输入新密码以进行确认。输入完毕后点击“确认修改进行提交”。<br/>（系统） 4、系统收起弹出输入框并进行核验，核验成功后，弹出提示告知用户密码修改成功，并更新当前账户对应的密码。 |
| **扩展事件流** | （可选） 3a、用户可以取消修改密码操作<br/>	（用户） 1、用户点击取消按钮或弹出框之外的位置，取消修改密码操作。<br/>	（系统） 2、系统收起弹出输入框，并中止修改密码操作。<br/>（异常处理） 4a、用户提交了错误的密码<br/>	（系统） 1、系统检测到用户提交了错误的原密码，清除已输入的原密码，并在输入框旁提示原密码错误，返回基本事件流第3步，要求用户重新输入原密码。 |
| **补充约束**   | 无                                                           |

##### UC013 删除个人账户

| 用例名称       | 删除个人账户                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC013                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户在个人信息界面删除自己的账户                             |
| **触发器**     | 用户点击个人信息界面中的“删除账户”功能                       |
| **前置条件**   | 系统处于登陆状态，当前页面为个人信息页面                     |
| **后置条件**   | 用例开始时登录的账户已从系统中删除，仍处于个人信息页面       |
| **基本事件流** | （用户） 1、用户在个人信息界面点击“删除账户”按钮。<br/>（系统） 2、系统弹出醒目的提示框提示用户删除账户操作不可逆，将会清除个人账户的全部数据记录，但已经发布的帖子、评论以及教育资源将不会删除，并请用户输入账户密码以确认操作。<br/>（用户） 3、用户在弹出框中输入账户密码，并点击确认删除。<br/>（系统） 4、系统核验密码正确后，退出登陆状态，返回到首页。后台删除账户相关的数据，将账户已发布的帖子、评论以及教育资源的发布者设置为“该用户已注销”等。 |
| **扩展事件流** | （可选） 3a、用户可以取消删除账户<br/>	（用户） 1、用户点击取消按钮或弹出框之外的位置，取消账户删除操作。<br/>	（系统） 2、收起弹出提示框，中止删除账户操作。<br/>（异常处理） 4a、用户提交了错误的密码<br/>	（系统） 1、系统检测到用户提交了错误的密码，清除已输入的密码，并在输入框旁提示密码错误，返回基本事件流第3步，要求用户重新输入密码。<br />（异常处理） 4b、删除时出错<br/>	（系统） 1、系统检测到删除用户账户时发生错误，回退已经进行的部分删除操作，回到删除前的状态，提示用户删除失败，并中止删除操作。 |
| **补充约束**   | 1、“删除账户”按钮应使用诸如红色的表示告警的醒目颜色。        |

##### UC014 找回密码

| 用例名称       | 找回密码                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC014                                                        |
| **参与者**     | 访客                                                         |
| **用例描述**   | 访客找回自己账户的密码                                       |
| **触发器**     | 访客点击用户登录界面的“找回密码”按钮                         |
| **前置条件**   | 系统处于未登录状态，当前界面是用户登录页面                   |
| **后置条件**   | 访客的密码被通过邮件的形式发送给访客，系统仍未登录，仍处于用户登录页面 |
| **基本事件流** | （用户） 1、访客在用户登陆界面输入自己的邮箱地址，并点击“找回密码”按钮。<br/>（系统） 2、系统弹出确认框，提示访客即将向用户登录界面中“邮箱”处填写的邮箱发送其对应密码，要求访客确认。<br/>（用户） 3、访客点击“确认”按钮以确认。<br/>（系统） 4、系统收起确认框，向“账户”处所填写的邮箱发送一封包含其密码的邮件。 |
| **扩展事件流** | （可选） 3a、访客可以取消找回密码<br/>	（用户） 1、访客点击取消按钮或弹出框之外的位置，取消找回密码操作。<br/>	（系统） 2、收起弹出提示框，中止找回密码操作。<br/>（异常处理） 4a、访客提交了非法的邮箱地址<br/>	（用户） 1、系统检测到了访客提交了系统用户账户表中不存在的邮箱，提示访客邮箱不存在，中止找回密码操作。<br/>（异常处理） 4b、邮件发送失败<br/>	（系统） 1、系统检测到邮件发送时出错，未能成功发送邮件，弹出提示框告知访客发送邮件失败及相关错误信息，中止找回密码操作。 |
| **补充约束**   | 1、应对每一个账号找回密码的频率有所限制，例如同一个账户一天最多找回一次密码。 |

**系统顺序图**

![FindPassword](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/FindPassword.png)

##### UC115 查看用户列表

| 用例名称       | 查看用户列表                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC115                                                        |
| **参与者**     | 管理员                                                       |
| **用例描述**   | 管理员进入用户操作界面，查看用户列表                         |
| **触发器**     | 管理员点击进入用户操作界面的按钮                             |
| **前置条件**   | 管理员已登录                                                 |
| **后置条件**   | 当前界面为管理员用户操作界面                                 |
| **基本事件流** | （用户） 1、管理员点击切换至管理员用户操作界面的按钮。<br/>（系统） 2、系统切换至管理员操作用户页面，展示用户的简要信息供管理员浏览，一并显示的还有诸如删除用户、修改用户信息等操作的按钮。<br />（用户） 3、管理员浏览用户列表。 |
| **扩展事件流** | （可选） 3a、管理员可选择翻页<br/>	（用户） 1、管理员点击翻页按钮。<br/>	（系统） 2、切换用户显示，显示目标页的用户数据条目。 |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。<br />2、对于90%的翻页点击，应在2.0秒内完成新页面的加载。 |

#####  UC116 修改用户信息

| 用例名称       | 修改用户信息                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC116                                                        |
| **参与者**     | 管理员                                                       |
| **用例描述**   | 管理员修改某一用户的信息                                     |
| **触发器**     | 管理员点击用户操作界面某一用户的“修改信息”按钮               |
| **前置条件**   | 管理员系统已登录，当前处于用户操作界面                       |
| **后置条件**   | 系统中相应用户的信息已更新，仍处于用户操作界面               |
| **基本事件流** | （用户） 1、管理员点击某一用户的“修改信息”按钮。<br/>（系统） 2、以弹出框的形式弹出相应用户的信息，可以修改的部分，例如昵称、密码、简介和院系等信息使用文本输入框的形式呈现，使管理员能够修改。<br/>（用户） 3、管理员修改需要修改的信息，并点击保存按钮。<br/>（系统） 4、系统检查输入信息是否合法，通过检查后将新数据更新到系统数据库中，并收起弹出框，提示管理员用户信息修改成功。 |
| **扩展事件流** | （可选） 3a、管理员可以取消修改用户信息<br/>	（用户） 1、管理员点击取消按钮或点击屏幕其它区域。<br/>	（系统） 2、系统收起弹出输入框，丢弃修改，中止修改用户信息。<br/>（异常处理） 3b、管理员非法输入<br/>	（用户） 1、管理员输入超长内容或输入非法字符。<br/>	（系统） 2、系统检测到管理员的非法输入，及时在输入框旁边对管理员进行提示，并使“保存”按钮无效。<br/>	（用户） 3、管理员修改输入直至合法。<br/>	（系统） 4、系统关闭非法提示，使能“保存”按钮。 |
| **补充约束**   | 1、用户原密码应以星号隐藏。                                  |

##### UC117 删除用户账户

| 用例名称       | 删除用户账户                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC117                                                        |
| **参与者**     | 管理员                                                       |
| **用例描述**   | 管理员删除某一用户账户                                       |
| **触发器**     | 管理员点击用户操作界面某一用户的”删除用户“按钮               |
| **前置条件**   | 管理员系统已登录，当前处于用户操作界面                       |
| **后置条件**   | 系统中相应用户已删除，仍处于用户操作界面                     |
| **基本事件流** | （用户） 1、管理员点击某一用户的“删除用户”按钮。<br/>（系统） 2、弹出确认框要求管理员确认删除操作，并告知删除操作无法恢复。<br/>（用户） 3、管理员点击“确认”以确认删除操作。<br/>（系统） 4、系统后台删除账户相关的数据，将账户已发布的帖子、评论以及教育资源的发布者设置为“该用户已注销”等，提示管理员用户账户已删除完成。更新当前界面（用户操作界面）的用户列表。 |
| **扩展事件流** | （可选） 3a、管理员可以取消删除用户账户<br/>	（用户） 1、管理员点击“取消”按钮或点击屏幕其它区域。<br/>	（系统） 2、系统收起弹出确认框，中止删除用户账户。<br/>（异常处理） 4a、删除时出错<br/>	（系统） 1、系统检测到删除用户账户时发生错误，回退已经进行的部分删除操作，回到删除前的状态，提示管理员删除失败，并中止删除操作。 |
| **补充约束**   | 1、“删除用户”按钮应使用诸如红色的表示告警的醒目颜色。<br />2、前端不应等待后端的用户删除结果返回，即管理员确认操作之后应能立即进行其它操作，而不需要等待删除操作结果返回。 |

##### UC118 添加新用户

| 用例名称       | 添加新用户                                                   |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC118                                                        |
| **参与者**     | 管理员                                                       |
| **用例描述**   | 管理员添加新用户                                             |
| **触发器**     | 管理员点击用户操作界面的“添加用户”按钮                       |
| **前置条件**   | 管理员系统已登录，当前处于用户操作界面                       |
| **后置条件**   | 系统中增加了新的用户，仍处于用户操作界面                     |
| **基本事件流** | （用户） 1、管理员点击用户操作界面的“添加用户”按钮。<br/>（系统） 2、系统弹出输入框，要求管理员输入新用户的基本信息，例如昵称、邮箱、密码等。<br/>（用户） 3、管理员填入相应信息，并在填写完毕后点击“保存”按钮。<br/>（系统） 4、系统核验邮箱是否已存在账户，核验通过后将新用户的信息保存加入数据库中，并提示管理员用户添加成功，收起输入框。 |
| **扩展事件流** | （可选） 3a、管理员可以取消添加用户账户<br/>	（用户） 1、管理员点击“取消”按钮或点击屏幕其它区域。<br/>	（系统） 2、系统收起弹出输入框，中止新增用户。<br/>（异常处理） 3b、管理员输入非法<br/>	（用户） 1、管理员输入了超长的昵称或包含不合法字符。<br/>	（系统） 2、系统检测到管理员的非法输入，及时在输入框旁边对管理员进行提示，并使“保存”按钮无效。<br/>	（用户） 3、管理员修改输入直至合法。<br/>	（系统） 4、系统关闭非法提示，使能“保存”按钮。<br/>（异常处理） 4a、管理员提交了已存在账户的邮箱地址<br/>	（系统） 1、提示管理员输入的邮箱已存在用户账户，回到基本事件流第3步，要求管理员修改输入。 |
| **补充约束**   | 无                                                           |

##### UC020 查看帖子列表

| 用例名称       | 查看帖子列表                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC020                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 用户或管理员查看帖子列表                                     |
| **触发器**     | 点击跳转到帖子列表页的相关按钮                               |
| **前置条件**   | 用户或管理员已登陆                                           |
| **后置条件**   | 处于帖子列表页，管理员端还有一些操作按钮                     |
| **基本事件流** | （用户） 1、用户或管理员点击切换至帖子列表页的相关按钮。<br/>（系统） 2、切换至帖子列表页，展示帖子列表，以及相关简要信息，例如评论数，点赞数。对于管理员端，所有帖子有“删除帖子”按钮；对于用户端，自己发布的帖子有“删除帖子”按钮。<br/>（用户） 3、用户或管理员浏览帖子列表。 |
| **扩展事件流** | （可选） 3a、用户或管理员可以翻页<br/>	（用户） 1、用户或管理员点击翻页按钮。<br/>	（系统） 2、切换帖子列表，展示其他帖子。 |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。<br/>2、对于90%的翻页点击，应在2.0秒内完成新页面的加载。<br />3、不允许用户在帖子列表界面对帖子进行点赞或评论。<br />4、应以某种合适的顺序对帖子进行排序。 |

##### UC021 查看帖子详情

| 用例名称       | 查看帖子详情                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC021                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 用户或管理员查看某一个帖子的详情                             |
| **触发器**     | 用户或管理员点击帖子列表中的某个帖子                         |
| **前置条件**   | 用户或管理员已登录，当前处于帖子列表页                       |
| **后置条件**   | 处于相应帖子的帖子详情页                                     |
| **基本事件流** | （用户） 1、用户或管理员点击帖子列表中的某个帖子。<br/>（系统） 2、切换至相应帖子的帖子详情页，展示帖子内容，图片加载预览图，加载部分评论。 |
| **扩展事件流** | （可选） 3a、用户或管理员可以使用滚轮浏览更多信息<br/>	（用户） 1、用户或管理员使用滚轮浏览更多信息。<br/>	（系统） 2、动态加载更多信息，例如更多评论。<br/>（可选） 3b、用户或管理员可以展开折叠的内容<br/>	（用户） 1、用户或管理员点击展开按钮展开折叠的文本。<br/>	（系统） 2、展开被折叠的文本。<br/>（可选） 3c、用户可以查看原图<br/>	（用户） 1、用户或管理员点击查看原图。<br/>	（系统） 2、系统加载原图并展示。 |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。<br/>2、应减少流量的使用，在用户点击图片详情或原图之前不应该加载完整图片。<br />3、对于管理员，每个评论均有相应的“删除评论”按钮；对于用户，自己发布的评论后有“删除评论”按钮。 |

**系统顺序图**

![ViewPostDetails](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/ViewPostDetails.png)

##### UC022 评论帖子

| 用例名称       | 评论帖子                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC022                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户可以对正在查看的帖子发表评论                             |
| **触发器**     | 用户点击帖子详情页面的“发表评论”按钮                         |
| **前置条件**   | 用户已登录，当前处于帖子详情页                               |
| **后置条件**   | 系统中相应帖子的评论列表中增加了相应用户的评论，仍处于帖子详情页 |
| **基本事件流** | （用户） 1、用户点击帖子详情页面的“发表评论”按钮。<br/>（系统） 2、系统弹出输入框，要求用户输入评论内容。<br/>（用户） 3、用户在输入框中输入相应的屏蔽内容，并点击“发布”按钮。<br/>（系统） 4、系统在数据库内添加上述评论内容，并关联到相应用户，收起弹出输入框，提示用户评论发布成功，为发布评论用户增加相应经验值，刷新当前页面以加入刚刚发布的新的评论。 |
| **扩展事件流** | （可选） 3a、用户可以取消评论帖子<br/>	（用户） 1、用户点击“取消”按钮。此处点击文本输入框外不视为取消。<br/>	（系统） 2、系统收起弹出框，丢弃弹出输入框的内容，中止评论发布。<br/>（可选） 3b、用户可以暂停评论发布<br/>	（用户） 1、用户点击“暂存”按钮，或点击弹出输入框外的部分。<br/>	（系统） 2、系统收起弹出输入框，并暂存弹出输入框的内容，暂停评论编辑。<br/>	（用户） 3、用户可继续浏览帖子，并在想要继续编辑评论时再次点击“发表评论”按钮。<br/>	（系统） 4、系统弹出输入框，回到基本事件流第2步，但是将扩展事件流中3b第2步中暂存的内容恢复，以便用户能够继续编写评论内容。<br/>（异常处理） 4a、系统检查发现输入评论中有屏蔽词<br/>	（系统） 1、系统检测到用户提交的评论内容中有屏蔽词，中止评论发布，提示用户待发布的内容中含有屏蔽词，回到基本事件流第3步，要求用户修改评论内容。 |
| **补充约束**   | 1、屏蔽词内容可以修改。                                      |

##### UC023 点赞帖子

| 用例名称       | 点赞帖子                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC023                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户可以点赞当前正在查看的帖子                               |
| **触发器**     | 用户点击帖子详情页面的“点赞”按钮                             |
| **前置条件**   | 用户已登录，当前正处在帖子详情页                             |
| **后置条件**   | 当前帖子的点赞数产生了相应变化，同时当前用户的点赞已被记录，仍处在帖子详情页 |
| **基本事件流** | （用户） 1、用户点击帖子详情页面的“点赞”按钮。<br/>（系统） 2、系统将相应的帖子的评论数加一，并记录该用户已经对该帖子进行了点赞操作，相应增加被点赞用户的经验值，高亮“点赞”按钮以告知用户已成功点赞该帖子。 |
| **扩展事件流** | （可选） 3a、用户可以取消点赞帖子<br/>	（用户） 1、用户点击已经高亮的“点赞”按钮。<br/>	（系统） 2、系统将相应的帖子的评论数减一，并取消该用户已对该帖子点赞的记录，取消“点赞”按钮的高亮状态，告知用户点赞已经撤销。 |
| **补充约束**   | 无                                                           |

##### UC024 发布帖子

| 用例名称       | 发布帖子                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC024                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户发布新的帖子                                             |
| **触发器**     | 用户点击帖子列表页的“发布帖子”按钮                           |
| **前置条件**   | 用户已登录，当前正处在帖子列表页                             |
| **后置条件**   | 系统数据库中加入了刚刚发布的帖子，并关联到相应用户，进入刚刚发布帖子的帖子详情页 |
| **基本事件流** | （用户） 1、用户点击贴子列表页中的“发布帖子”按钮。<br/>（系统） 2、系统跳转到发布新帖子界面，要求用户输入帖子标题以及正文。<br/>（用户） 3、用户编辑帖子标题以及正文，并点击“发布”按钮。<br/>（系统） 4、系统检查标题和内容中是否有屏蔽词，检查通过之后将用户的帖子添加到系统帖子数据库中，跳转到相应的帖子详情页，并为发帖用户增加相应经验值。 |
| **扩展事件流** | （可选） 3a、用户可以取消发布新帖子<br/>	（用户） 1、用户返回之前的页面，或直接关闭当前发布新帖子标签页。<br/>	（系统） 2、系统中止发布新帖子。<br/>（可选） 3b、高级用户可以对帖子上的信息设置权限<br/>	（用户） 1、用户对帖子部分或全部内容设置阅览权限。<br/>	（系统） 2、系统对相应信息添加相应记录，以便为不同等级的用户展示不同内容。<br/>（异常处理） 3c、用户输入超过长度限制<br/>	（用户） 1、用户输入超长内容。<br/>	（系统） 2、系统检测到用户的超长输入，及时在输入框旁边对用户进行提示，并使“发布”按钮无效。<br/>	（用户） 3、用户修改输入直至合法。<br/>	（系统） 4、系统关闭非法提示，使能“发布”按钮。<br/>（异常处理） 4a、系统检查发现输入内容中有屏蔽词<br/>	（用户） 1、系统检测到用户提交的帖子标题或内容中有屏蔽词，中止帖子发布，提示用户待发布的内容中含有屏蔽词，回到基本事件流第3步，要求用户修改帖子标题或内容。 |
| **补充约束**   | 1、屏蔽词内容可以修改。                                      |

**系统顺序图**

![PublishPost](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/PublishPost.png)

**系统操作合约**

**ClickPublishButton()**

- 操作签名：ClickPublishButton()

- 交叉引用：发布帖子

- 前置条件：访客准备发帖

- 后置条件：

  - 切换至发帖界面

**Input(title, content)**

- 操作签名：Input(title, content)
- 交叉引用：发布帖子
- 前置条件：处于发帖界面
- 后置条件：
  - 系统接收用户输入的title, content

**CompletePublish()**

- 操作签名：CompletePublish()
- 交叉引用：发布帖子
- 前置条件：完成信息输入, 信息输入符合规范
- 后置条件：
  - 系统创建Post类的post实例
  - post实例对应属性赋值
  - 系统跳转发帖成功界面

##### UC025 删除帖子

| 用例名称       | 删除帖子                                                     |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC025                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 用户删除自己发布的帖子，管理员删除任何帖子                   |
| **触发器**     | 用户或管理员点击贴子列表页或帖子详情页中的“删除帖子”按钮。   |
| **前置条件**   | 用户或管理员已登录，当前处于帖子列表页或帖子详情页。         |
| **后置条件**   | 相应的帖子在系统数据库中已被删除，处于帖子列表页。           |
| **基本事件流** | （用户） 1、用户或管理员点击相应帖子的“删除帖子”按钮。<br/>（系统） 2、系统弹出确认框，要求用户或管理员确认删除操作，并告知删除操作无法恢复。<br/>（用户） 3、用户或管理员点击“确认”。<br/>（系统） 4、系统后台删除相关帖子的数据，提示用户或管理员帖子删除成功，并为相应用户扣除相应经验值。 |
| **扩展事件流** | （可选） 3a、用户或管理员可以取消删除帖子<br/>	（用户） 1、用户或管理员点击“取消”按钮或点击屏幕其它区域。<br/>	（系统） 2、系统收起弹出确认框，中止删除帖子。<br/>（可选） 4a、可能需要返回贴子列表页<br/>	（系统） 1、如果用户在帖子详情页删除帖子，则在帖子删除完毕后返回帖子列表。<br/>（异常处理） 4b、删除时出错<br/>	（系统） 1、系统检测到删除帖子时发生错误，回退已经进行的部分删除操作，回到删除前的状态，提示用户或管理员删除失败，并中止删除操作。 |
| **补充约束**   | 1、“删除帖子”按钮应使用诸如红色的表示告警的醒目颜色。        |

##### UC026 删除帖子评论

| 用例名称       | 删除帖子评论                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC026                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 用户删除自己的帖子评论，或管理员删除任何帖子评论             |
| **触发器**     | 用户或管理员在帖子详情页点击某评论的“删除评论”按钮           |
| **前置条件**   | 用户或管理员已登录，且处在帖子详情页                         |
| **后置条件**   | 相应的评论已从系统数据库中移除，仍处在帖子详情页，被删除的评论已经不被显示 |
| **基本事件流** | （用户） 1、用户或管理员点击相应评论的“删除评论”按钮。<br/>（系统） 2、系统弹出确认框，要求用户或管理员确认删除操作，并告知删除操作无法恢复。<br/>（用户） 3、用户或管理员点击“确认”。<br/>（系统） 4、系统后台删除相关评论的数据，提示用户或管理员评论删除成功，并为相应用户扣除相应经验值。 |
| **扩展事件流** | （可选） 3a、用户或管理员可以取消删除评论<br/>	（用户） 1、用户或管理员点击“取消”按钮或点击屏幕其它区域。<br/>	（系统） 2、系统收起弹出确认框，中止删除评论。 |
| **补充约束**   | 1、“删除评论”按钮应使用诸如红色的表示告警的醒目颜色。        |

##### UC030 查看教育资源列表

| 用例名称       | 查看教育资源列表                                             |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC030                                                        |
| **参与者**     | 访客、用户、管理员（以下统称用户）                           |
| **用例描述**   | 用户查看教育资源列表                                         |
| **触发器**     | 用户点击跳转到教育资源列表页的相关按钮                       |
| **前置条件**   | 无                                                           |
| **后置条件**   | 处于教育资源列表页                                           |
| **基本事件流** | （用户） 1、用户点击切换至教育资源列表页的相关按钮。<br/>（系统） 2、切换至教育资源列表页，展示教育资源列表，以及相关简要信息，例如资源类别，发布者，下载数。对于管理员端，所有教育资源有“删除资源”按钮；对于用户端，自己发布的教育资源有“删除资源”按钮。 |
| **扩展事件流** | （可选） 3a、用户可以搜索资源<br/>	（用户） 1、用户在搜索框中输入相应文本，并点击“搜索”按钮。<br/>	（系统） 2、系统在列表中筛选，仅保留匹配文本的结果，为用户展示。<br/>（可选） 3b、用户可以按类别选择资源<br/>	（用户） 1、用户选择要保留的资源类别，并点击“应用”按钮。<br/>	（系统） 2、系统在列表中筛选，仅保留与满足用户选择的类别的资源。<br />（可选） 3c、用户可以翻页<br/>	（用户） 1、用户点击翻页按钮。<br/>	（系统） 2、切换教育资源列表，展示其他教育资源。 |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。<br/>2、对于90%的翻页点击，应在2.0秒内完成新页面的加载。<br />3、应以某种合适的顺序对教育资源进行排序。 |

##### UC031 查看教育资源详情

| 用例名称       | 查看教育资源详情                                             |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC031                                                        |
| **参与者**     | 访客、用户、管理员（以下统称用户）                           |
| **用例描述**   | 用户查看教育资源详细信息                                     |
| **触发器**     | 用户点击教育资源列表中的某个教育资源                         |
| **前置条件**   | 当前处于教育资源列表页或用户下载历史页                       |
| **后置条件**   | 处于相应教育资源的详情页                                     |
| **基本事件流** | （用户） 1、用户点击教育资源列表或用户下载历史页中的某个教育资源。<br/>（系统） 2、切换至相应教育资源的教育资源详情页，展示教育资源详细信息，包括名称、发布者、资源类别、发布时间、资源简介等等。 |
| **扩展事件流** | 无                                                           |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。                  |

**系统顺序图**

![ViewResourceDetail](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/ViewResourceDetail.png)

**系统操作合约**

**ChoseResource(resource)**

- 操作签名：ChoseResource(resource)

- 交叉引用：查看资源详情

- 前置条件：访客准备查看某资源详情

- 后置条件：

  - 切换至该资源详情页面

##### UC032 下载教育资源

| 用例名称       | 下载教育资源                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC032                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 用户或管理员下载某个教育资源                                 |
| **触发器**     | 用户或管理员点击教育资源列表页或教育资源详情页或用户下载历史页中的“下载”按钮 |
| **前置条件**   | 用户或管理员已登录，当前页面为教育资源列表页或教育资源详情页 |
| **后置条件**   | 仍处于教育资源列表页或教育资源详情页                         |
| **基本事件流** | （用户） 1、用户或管理员点击相应教育资源的“下载”按钮。<br/>（系统） 2、系统将下载事件发送给用户浏览器，如果是用户下载教育资源，更新教育资源下载量等统计数据，将本次下载添加至当前登录的用户的下载历史。 |
| **扩展事件流** | 无                                                           |
| **补充约束**   | 无                                                           |

##### UC033 发布教育资源

| 用例名称       | 发布教育资源                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC033                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 用户或管理员发布新的教育资源                                 |
| **触发器**     | 用户或管理员点击教育资源列表页的“发布教育资源”按钮           |
| **前置条件**   | 用户或管理员已登录，当前页面为教育资源列表页                 |
| **后置条件**   | 系统中增加了刚刚上传的新的教育资源相关数据，进入刚刚上传的教育资源详情页 |
| **基本事件流** | （用户） 1、用户或管理员点击教育资源列表页中的“发布教育资源”按钮。<br/>（系统） 2、系统跳转到发布新教育资源页面，要求用户或管理员输入教育资源标题，选择教育资源类别，输入教育资源关键词，以及描述等，并要求用户或管理员上传文件。<br/>（用户） 3、用户或管理员编辑教育资源相关内容，上传文件，并点击“发布”按钮。<br/>（系统） 4、系统检查标题、关键词、描述中是否有屏蔽词，检查通过之后将用户或管理员的教育资源添加到系统教育资源数据库中，并跳转到相应的教育资源详情页。 |
| **扩展事件流** | （可选） 3a、用户或管理员可以取消发布新教育资源<br/>	（用户） 1、用户或管理员返回之前的页面，或直接关闭当前发布新教育资源标签页。<br/>	（系统） 2、系统中止发布新教育资源。<br/>（异常处理） 3b、用户或管理员非法输入<br/>	（用户） 1、用户或管理员输入超长或非法内容。<br/>	（系统） 2、系统检测到用户或管理员的非法输入，及时在输入框旁边对用户或管理员进行提示，并使“发布”按钮无效。<br/>	（用户） 3、用户或管理员修改输入直至合法。<br/>	（系统） 4、系统关闭非法提示，使能“发布”按钮。<br/>（异常处理） 3c、文件上传时出错<br/>	（系统） 1、系统检测到用户文件未能成功上传，提示用户文件上传失败，提示用户重新上传。（异常处理） 4a、系统检查发现输入评论中有屏蔽词<br/>	（用户） 1、系统检测到用户或管理员提交的内容中有屏蔽词，中止教育资源发布，提示用户或管理员待发布的内容中含有屏蔽词，回到基本事件流第3步，要求用户或管理员修改帖子标题或内容。 |
| **补充约束**   | 1、屏蔽词内容可以修改。                                      |

##### UC034 删除教育资源

| 用例名称       | 删除教育资源                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC034                                                        |
| **参与者**     | 用户、管理员                                                 |
| **用例描述**   | 用户删除自己发布的教育资源，管理员删除任何教育资源           |
| **触发器**     | 用户或管理员点击贴子列表页或教育资源详情页中的“删除教育资源”按钮。 |
| **前置条件**   | 用户或管理员已登录，当前处于教育资源列表页或教育资源详情页。 |
| **后置条件**   | 相应的教育资源在系统数据库中已被删除，处于教育资源列表页。   |
| **基本事件流** | （用户） 1、用户或管理员点击相应教育资源的“删除教育资源”按钮。<br/>（系统） 2、系统弹出确认框，要求用户或管理员确认删除操作，并告知删除操作无法恢复。<br/>（用户） 3、用户或管理员点击“确认”。<br/>（系统） 4、系统后台删除相关教育资源的数据，提示用户或管理员教育资源删除成功。 |
| **扩展事件流** | （可选） 3a、用户或管理员可以取消删除教育资源<br/>	（用户） 1、用户或管理员点击“取消”按钮或点击屏幕其它区域。<br/>	（系统） 2、系统收起弹出确认框，中止删除教育资源。<br/>（可选） 4a、可能需要返回贴子列表页<br/>	（系统） 1、如果用户在教育资源详情页删除教育资源，则在教育资源删除完毕后返回教育资源列表。<br/>（异常处理） 4b、删除时出错<br/>	（系统） 1、系统检测到删除教育资源时发生错误，回退已经进行的部分删除操作，回到删除前的状态，提示用户或管理员删除失败，并中止删除操作。 |
| **补充约束**   | 1、“删除教育资源”按钮应使用诸如红色的表示告警的醒目颜色。    |

##### UC035 查看下载历史

| 用例名称       | 查看下载历史                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC035                                                        |
| **参与者**     | 用户                                                         |
| **用例描述**   | 用户查看自己的下载历史                                       |
| **触发器**     | 用户点击教育资源列表页或个人信息页的“查看下载历史”按钮       |
| **前置条件**   | 用户已登录，当前处于教育资源列表页或个人信息页               |
| **后置条件**   | 当前处于下载历史查看页，或跳转到教育资源详情页               |
| **基本事件流** | （用户） 1、用户点击教育资源列表页或个人信息页的“查看下载历史”按钮。<br/>（系统） 2、跳转至下载历史页面，展示用户的下载历史。 |
| **扩展事件流** | （可选） 3a、用户可以翻页<br/>	（用户） 1、用户点击翻页按钮。<br/>	（系统） 2、切换下载历史列表，展示其它历史记录。<br />（可选） 3b、用户可以通过下载历史跳转到相应的教育资源详情页<br/>	（用户） 1、用户点击下载历史列表中的某一个用例。<br/>	（系统） 2、调用用例“查看教育资源详情（UC031）”<br/>（可选） 3c、用户可以通过下载历史下载教育资源<br/>	（用户） 1、用户点击下载历史列表中的某一个用例的“下载”按钮。<br/>	（系统） 2、调用用例“下载教育资源（UC032）” |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。<br/>2、对于90%的翻页点击，应在2.0秒内完成新页面的加载。<br />3、应按照时间对历史记录进行排序。 |

##### UC136 修改教育资源

| 用例名称       | 修改教育资源                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC136                                                        |
| **参与者**     | 管理员                                                       |
| **用例描述**   | 管理员修改教育资源相关信息                                   |
| **触发器**     | 管理员点击教育资源详情页的“编辑信息”按钮                     |
| **前置条件**   | 管理员已登录，当前处于教育资源详情页                         |
| **后置条件**   | 相应教育资源的信息已被修改，当前仍处于教育资源详情页         |
| **基本事件流** | （用户） 1、管理员在教育资源详情页点击“编辑信息”按钮。<br/>（系统） 2、系统将资源关键词、资源类别、资源简介等允许修改的信息的显示方式修改为文本框，使管理员能够编辑其内容。<br/>（用户） 3、管理员编辑文本框中的内容，并点击“保存”按钮提交修改。<br/>（系统） 4、弹出提示框告知管理员修改成功，并依照管理员输入更新相应教育资源数据，取消文本框的显示方式，正常展示修改完的信息。 |
| **扩展事件流** | （可选） 3a、管理员可以取消修改教育资源信息<br/>	（用户） 1、管理员点击“取消”按钮。<br/>	（系统） 2、系统取消文本框的显示方式，丢弃修改，正常展示修改前的信息，中止修改教育资源信息。<br />（异常处理） 3b、管理员非法输入<br/>	（用户） 1、管理员输入超长内容或输入非法字符。<br />	（系统） 2、系统检测到管理员的非法输入，及时在输入框旁边对管理员进行提示，并使“保存”按钮无效。<br />	（用户） 3、管理员修改输入直至合法。<br/>	（系统） 4、系统关闭非法提示，使能“保存”按钮。 |
| **补充约束**   | 无                                                           |

##### UC140 查看统计数据

| 用例名称       | 查看统计数据                                                 |
| -------------- | ------------------------------------------------------------ |
| **用例编号**   | UC140                                                        |
| **参与者**     | 管理员                                                       |
| **用例描述**   | 管理员查看数据分析                                           |
| **触发器**     | 管理员点击跳转到统计数据查看页的相关按钮                     |
| **前置条件**   | 管理员已登录                                                 |
| **后置条件**   | 当前处于统计数据查看页                                       |
| **基本事件流** | （用户） 1、管理员点击“查看统计数据”按钮。<br/>（系统） 2、跳转至查看统计数据页面，展示统计数据。 |
| **扩展事件流** | （可选） 3a、管理员可以查看不同的统计数据<br/>	（用户） 1、管理员点击想要查看的统计数据类别，或对参与统计的数据进行筛选。<br/>	（系统） 2、系统根据管理员的选择展示相应的数据。 |
| **补充约束**   | 1、对于95%的设备，应在3.0秒内完成页面切换。                  |

### 3.1.3 领域模型 

#### **概念类图**

![ConceptClassDiagram](https://zzq-typora-picgo.oss-cn-beijing.aliyuncs.com/ConceptClassDiagram.png)

#### 相关实体

**E1 - 商店**

| **实体名称**          | Store                                                        |              |                          |
| --------------------- | ------------------------------------------------------------ | ------------ | ------------------------ |
| **实体ID**            | E1                                                           |              |                          |
| **实体描述**          | 商品存放的地方                                               |              |                          |
| **属性名称**          | **属性类型**                                                 | **属性描述** |                          |
| Id                    | Integer                                                      | 商店ID       |                          |
| Name                  | String                                                       | 商店名称     |                          |
| Address               | String                                                       | 商店地址     |                          |
| IsOpened              | Boolean                                                      | 商店是否开放 |                          |
| **关联名称**          | **关联的实体**                                               | **关联类型** | **关联描述**             |
| AssociationCashdeskes | [CashDesk](https://www.educoder.net/tasks/5fgiytb7/904821/xcfb5qz3rfl8?coursesId=5fgiytb7#CLASSCashDesk) | 关联         | 一个商店关联多个收银台   |
| Productcatalogs       | [ProductCatalog](https://www.educoder.net/tasks/5fgiytb7/904821/xcfb5qz3rfl8?coursesId=5fgiytb7#CLASSProductCatalog) | 关联         | 一个商店关联多个产品目录 |
| Items                 | [Item](https://www.educoder.net/tasks/5fgiytb7/904821/xcfb5qz3rfl8?coursesId=5fgiytb7#CLASSItem) | 关联         | 一个商店关联多个商品     |
| Cashiers              | [Cashier](https://www.educoder.net/tasks/5fgiytb7/904821/xcfb5qz3rfl8?coursesId=5fgiytb7#CLASSCashier) | 关联         | 一个商店关联多个收银员   |
| Sales                 | [Sale](https://www.educoder.net/tasks/5fgiytb7/904821/xcfb5qz3rfl8?coursesId=5fgiytb7#CLASSSale) | 关联         | 一个商店关联多个交易记录 |

**E2 - 产品列表**

| **实体名称** | ProductCatalog                                               |              |              |
| ------------ | ------------------------------------------------------------ | ------------ | ------------ |
| **实体ID**   | 请填充                                                       |              |              |
| **实体描述** | 请填充                                                       |              |              |
| **属性名称** | **属性类型**                                                 | **属性描述** |              |
| 请填充       | 请填充                                                       | 请填充       |              |
| 请填充       | 请填充                                                       | 请填充       |              |
| **关联名称** | **关联的实体**                                               | **关联类型** | **关联描述** |
| 请填充       | [请填充](https://www.educoder.net/tasks/5fgiytb7/904821/xcfb5qz3rfl8?coursesId=5fgiytb7#CLASSCashDesk) | 关联         | 请填充       |

## 3.2 对外接口需求

### 3.2.1 用户界面

- 输入设备：键盘，鼠标。
- 输出设备：显示器。
- 输出格式：网页。
- 界面风格：
  - 界面布局：用户界面友好，适配显示器比例，设计的界面应该适合所有用户方便浏览。网站具有实用性，版面具有节奏感，有疏有密、有紧有松、上下呼应、富有美感。容易修改，具有良好的扩展性和灵活性。
  - 色彩的选择：页面色彩搭配统一，内容上突出不同分区的风格，无论是色彩还是整体感觉都要适应主题。
  - 主题风格的变化：在板式不变的情况下有所创新而且遵循用户的习惯，同时抓住不同时段的变化，根据不同的时段四季，节目等等可以迎合不同的主题来变化界面风格，色彩。
  - 文字的呈现：整个系统汉字部分将以宋体呈现，部分需要强化突出的将会以加粗、下划线等标注，使显示清晰并且风格达到统一。
  - 图形和图标选择：图标和图形的选择遵照简单化、标准化的原则，使的所选择使用的图形和图标更容易被大众接受和认可。程序各对话框的风格要保持一致，每个屏幕的标准按键以及对应的功能，显示的风格必须一致。
  -  警告呈现：对于操作出现异常的情况，交互界面需要提示用户出错的信息。

### 3.2.2 硬件接口

- CPU：双核心及以上，支持多线程
- 硬盘：不少于500GB
- 电源：有内置电源及外置电源，外置电源能够保证突然断电时有足够时间保存数据。
- 显示器：无要求
- 操作系统：Windows 10 操作系统
- 硬盘 
- 磁带机和光刻机接口（考虑到数据库大量数据的备份要求）

### 3.2.3 软件接口

- 操作系统：支持Windows、Linux等常用操作系统
- 数据库：MYSQL
- 工具：支持常用文件格式的解析、转换等。

### 3.2.4 通讯接口

- 通信协议：TCP/IP

## 3.3 性能需求

### 3.3.1静态数值要求

> 本小节应详细说明对软件或人类与整个软件交互的静态和动态数值要求。 静态数值要求可能包括以下内容：
>
> a) 支持的终端数量；
>
> b) 支持的并发用户数；
>
> c) 要处理的信息的数量和类型。

- 支持的终端数量：应为$总用户数\times 每个用户的终端数$，本系统暂定面向学校开放，且实际上，并不是所有的学生都会第一时间注册并使用本平台，故总用户数很难在短时间内迅速增加并达到学校总人数，我们应当根据平台的推广情况适当增加或减少支持的终端数量，以此更高效的利用资源，故暂定总用户数为全校人数的30%。考虑到绝大多数同学不会同时登录多个终端，故假设每个用户的终端数为1.1，支持的终端数量约为$40000\times 30\% \times1 .1=13200$（此数据应当随总用户数变化而调整）。
- 支持的并发用户数：考虑到本平台的主要功能是学生间交流、分享学习经验和校园资讯，并发的用户量不会太多，一直在线的时间不会很长，且没有可预见的高峰期，因此将支持的最大并发用户数定为支持的终端数量的20%，即约为$13200\times20\%=2640$
- 要处理的信息数量和类型：由平台的性质决定，大多数信息类型为文本，少数为图片、音频和视频等

### 3.3.2动态数值需求

- 响应处理时间：由本地机和服务器的运行速度决定
  -  对于95%的设备，应在3.0秒内完成页面切换。
  - 对于90%的翻页点击，应在2.0秒内完成新页面的加载。
  - 对于90%的页面更新（如发布新帖子，评论帖子，发布资源等），应在1s内处理
  - 对于95%的搜索，应在3s内返回搜索结果。
- 数据的上传和下载时间：数据转换和数据传输操作由网络状况和数据大小决定。

## 3.4 设计约束

### 3.4.1 标准合规性

> 本小节应规定源自现有标准或法规的要求。 它们可能包括以下内容：
>
> - a）报告格式；
> - b）数据命名；
> - c）会计程序；
> - d）审计跟踪。
>
> 例如，这可以指定软件跟踪处理活动的要求。 某些应用程序需要此类跟踪才能满足最低监管或财务标准。 例如，审计跟踪要求可能声明对工资单数据库的所有更改都必须记录在具有前后值的跟踪文件中。

- 为保证用户账户安全，需加密传输注册信息。
- 所有发布的帖子都要经过屏蔽词检查。
- 未注册/未登录用户不得发布、评论帖子。

### 3.4.2 硬件限制

​	暂无。

## 3.5 软件系统属性

### 3.5.1 可靠性

> 这应该 指定 在交付时 建立软件系统所需可靠性 所需的因素。

为保证系统可靠性，遵循以下几点：

1. 开发模型：选择瀑布模型开发，流程清晰，执行容易，能够确保开发过程的完整可靠。
2. 测试：交付前应进行充分的测试，包括单元测试、集成测试、系统测试、验收测试等。
3. 设计原则: 采用高内聚低耦合、模块化开发、接口设计规范等优秀设计原则。
4. 性能优化: 在实现基本功能的基础上，对软件系统进行性能优化，减少系统崩溃或停顿的可能性。
5. 故障容错机制: 应当实现备份和恢复机制、异常处理机制、重试机制等来保证系统的故障容错机制。

### 3.5.2 可用性

> 这应该指定保证整个系统定义的可用性级别所需的因素，例如检查点、恢复和重新启动。
>
> 可用性指的是：用户使用系统时，系统可用的概率（预先告示的停机维护不算做不可用的情况）

为保证系统可用行，建立如下机制，具体机制的实现这里不作阐述。

1. 检查点机制：在系统稳定运行期间创建检查点，以保存系统的状态和数据。在发生故障时可以使用这些检查点进行恢复，并将系统恢复到最近一次检查点所记录的状态。
2. 错误和异常管理：建立适当的错误和异常处理机制，例如日志记录、通知系统管理员等，以保障对于每一个错误和异常的处理及时响应。
3. 快速恢复与重新启动：建立快速恢复和重新启动机制，能够快速地恢复整个系统或某个组件，并尽快返回在线运行状态。
4. 灾难恢复计划：建立灾难恢复计划，在系统遭受灾难性故障时，安全地恢复有关服务和服务器，并迅速将系统还原到正常运行状态。
5. 备份和存储：执行计划好的备份和存储策略，以确保数据可用性和完整性。
6. 容量规划：应当根据预测的负载进行系统容量规划，在高峰期保持服务可用性和可靠性。

### 3.5.3 安全

>这应该指定保护软件免受意外或恶意访问、使用、修改、破坏或泄露的因素。 该领域的具体要求可能包括需要
>
>a) 使用某些加密技术；
>
>b) 保留特定日志或历史数据集；
>
>c) 将某些功能分配给不同的模块；
>
>d) 限制程序某些区域之间的通信；
>
>e) 检查关键变量的数据完整性。

- 通过人机验证等手段提供对恶意注册洪泛攻击的防御。
- 为保证数据安全，需加密传输信息。
- 需要保留用户登录日志，检测是否被盗号。
- 本系统应该能够记录系统运行时所发生的所有错误，包括本机错误和网络错误。这些错误记录便于查找错误的原因。日志同时记录用户的关键性操作信息。

### 3.5.4 可维护性

>这应该指定与软件本身的易维护性相关的软件属性。 可能对某些模块化、接口、复杂性等有一些要求。不应仅仅因为它们被认为是良好的设计实践而将要求放在此处。

- 整个系统的各个功能高度模块化，达到高内聚低耦合的目标，实现清晰的模块接口，明确每个模块的功能，方便以后的系统维护，如果一 个功能模块出现问题，不会致使整个系统瘫痪。
- 有完整的数据库管理制度，以保证数据库的数据的完整性，安全性。

### 3.5.5 可移植性

> 这应该指定与将软件移植到其他主机和/或操作系统的容易程度相关的软件属性。 这可能包括以下内容：
>
> a) 具有主机相关代码的组件的百分比；
>
> b) 依赖主机的代码百分比；
>
> c) 使用经过验证的可移植语言；
>
> d) 使用特定的编译器或语言子集；
>
> e) 使用特定操作系统。

- 保证windows7及以上的系统可以运行。


## 3.6 其他需求

### 3.6.1 逻辑数据库要求

> 这应该指定要放入数据库的任何信息的逻辑要求。 这可能包括以下内容：
>
> a) 各种功能使用的信息类型；
>
> b) 使用频率；
>
> c) 访问能力；
>
> d) 数据实体及其关系；
>
> e) 完整性约束；
>
> f) 数据保留要求。

- 用户信息数据库
  - 各种功能使用的信息类型：
    - 用户注册：用户名，邮箱，密码
    - 用户登录：用户名/邮箱，密码
    - 查看/修改个人信息：所有信息
    - 删除用户：所有信息
  - 使用频率：中等
  - 应该包含的数据实体及约束：
    - 用户id（unique，主键）
    - 用户名（not null）
    - 密码(长度大于6，至少包含数字，字母，符号三者之二)
    - 邮箱(not null,unique)
    - 其他必要的信息
- 帖子信息数据库
  - 各种功能使用的信息类型：
    - 查看帖子列表：帖子标题，帖子发布者id，帖子标题，点赞数，评论数
    - 查看帖子详情：所有信息
    - 评论帖子：评论内容，评论数
    - 点赞帖子：点赞数
    - 删除帖子：所有信息
    - 发布帖子：所有信息
    - 删除帖子评论：评论内容，评论数
  - 使用频率：高
  - 应包含的数据实体：
    - 帖子id（unique,主键）
    - 帖子发布者id（外键）
    - 帖子标题（not null）
    - 帖子内容（not null）
    - 点赞数
    - 评论数
    - 评论内容
- 教育资源信息数据库
  - 各种功能使用的信息类型：
    - 查看教育资源列表：资源id，资源名称，资源发布者id，资源类别
    - 查看教育资源详情：所有信息
    - 下载教育资源：资源位置
    - 发布教育资源：所有信息
    - 删除教育资源：所有信息
  - 使用频率：中等
  - 应包含的数据实体:
    - 资源id（unique，主键）
    - 资源发布者id（外键）
    - 资源名称（not null）
    - 资源简介
    - 资源大小
    - 资源类别（not null）
    - 资源位置（not null）